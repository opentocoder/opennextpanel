# OpenPanel 功能说明

## 目录

1. [仪表盘](#仪表盘)
2. [网站管理](#网站管理)
3. [数据库管理](#数据库管理)
4. [软件中心](#软件中心)
5. [文件管理](#文件管理)
6. [安全防护](#安全防护)
7. [系统监控](#系统监控)
8. [Docker 管理](#docker-管理)
9. [定时任务](#定时任务)
10. [FTP 管理](#ftp-管理)
11. [用户管理](#用户管理)
12. [系统设置](#系统设置)

---

## 仪表盘

仪表盘提供服务器状态的实时概览。

### 功能
- **系统信息**: 显示操作系统、内核版本、运行时间
- **资源监控**: CPU、内存、磁盘使用率实时图表
- **快捷操作**: 常用功能快速入口
- **最近活动**: 显示最近的操作日志

---

## 网站管理

管理服务器上的所有网站。

### 创建网站
1. 点击「添加网站」按钮
2. 填写域名（支持多域名，用空格分隔）
3. 选择网站类型：
   - **PHP 站点**: 适用于 WordPress、Laravel 等
   - **静态站点**: 纯 HTML/CSS/JS 网站
   - **反向代理**: 代理到其他服务
4. 选择 PHP 版本（仅 PHP 站点）
5. 点击创建

### 网站设置
- **域名管理**: 添加/删除绑定域名
- **PHP 版本**: 切换 PHP 版本
- **SSL 证书**: 一键申请 Let's Encrypt 免费证书
- **Nginx 配置**: 可视化编辑 Nginx 配置
- **运行目录**: 设置网站根目录
- **伪静态**: 常用伪静态规则模板

### SSL 证书
- 支持 Let's Encrypt 免费证书
- 自动续期（到期前 30 天自动续期）
- 强制 HTTPS 跳转

### Nginx 配置
- 可视化配置界面
- 支持直接编辑配置文件
- 配置语法检测
- 一键重载配置

---

## 数据库管理

管理 MySQL/MariaDB 数据库。

### 功能
- **创建数据库**: 指定数据库名和字符集
- **数据库用户**: 创建用户并授权
- **权限管理**: 精细化权限控制
- **备份恢复**: 数据库导入导出
- **phpMyAdmin**: 集成 Web 数据库管理工具
- **Adminer**: 轻量级数据库管理工具

### 数据库工具

| 工具 | 端口 | 说明 |
|------|------|------|
| phpMyAdmin | 8082 | 功能完整的 MySQL 管理工具 |
| Adminer | 8083 | 轻量级单文件管理工具 |

### 访问数据库工具
1. 在软件中心安装 phpMyAdmin 或 Adminer
2. 安装后自动配置 Nginx
3. 点击「打开」按钮直接访问
4. 使用数据库凭据登录

---

## 软件中心

一键安装和管理服务器软件。

### 支持的软件

#### Web 服务器
| 软件 | 说明 |
|------|------|
| Nginx | 高性能 HTTP 服务器 |
| Apache | 流行的 Web 服务器 |
| OpenResty | 基于 Nginx + Lua |
| Caddy | 自动 HTTPS |
| Tomcat | Java Servlet 容器 |

#### PHP 运行环境
- PHP 8.3 / 8.2 / 8.1 / 7.4 / 5.6
- 支持多版本共存
- 常用扩展自动安装

#### 数据库
| 软件 | 说明 |
|------|------|
| MySQL | 流行的关系型数据库 |
| MariaDB | MySQL 兼容分支 |
| PostgreSQL | 强大的对象关系数据库 |
| MongoDB | 文档型数据库 |
| Redis | 内存键值数据库 |
| Memcached | 分布式内存缓存 |

#### 运行时
- Node.js (22.x / 20.x / 18.x)
- Python 3
- Java/OpenJDK
- Go
- Rust

#### 工具类
- Docker & Docker Compose
- Git
- Composer (PHP)
- Supervisor (进程管理)
- Certbot (SSL 证书)

### 操作说明
- **安装**: 点击「安装」按钮，可选择版本
- **启动/停止**: 控制服务运行状态
- **设置**: 查看和编辑配置文件
- **卸载**: 移除软件（需确认）

### 自定义编译
支持 Nginx 自定义编译安装：
- 选择模块（如 ngx_brotli、lua 等）
- 配置编译参数
- 后台编译安装

---

## 文件管理

Web 文件管理器，管理服务器文件。

### 功能
- **浏览**: 目录树导航，文件列表
- **上传**: 支持拖拽上传，多文件上传
- **下载**: 单文件下载，打包下载
- **编辑**: 在线代码编辑器，语法高亮
- **操作**: 复制、移动、重命名、删除
- **压缩**: 支持 zip、tar.gz 格式
- **权限**: 修改文件/目录权限

### 快捷操作
- `Ctrl+C`: 复制
- `Ctrl+V`: 粘贴
- `Ctrl+X`: 剪切
- `Delete`: 删除
- `F2`: 重命名

---

## 安全防护

多层次的安全防护机制。

### 安全入口
- 设置面板访问的安全路径
- 只有通过安全入口才能访问面板
- 防止面板被扫描发现

### Fail2ban
- 自动封禁暴力破解 IP
- 支持自定义规则
- 查看封禁列表

### WAF 防火墙
- SQL 注入防护
- XSS 攻击防护
- 自定义规则
- 白名单/黑名单

### 文件防篡改
- 监控关键文件变更
- 实时告警
- 变更日志记录

---

## 系统监控

实时监控服务器状态。

### 监控指标
- **CPU**: 使用率、负载、温度
- **内存**: 使用量、缓存、交换分区
- **磁盘**: 使用率、I/O 读写
- **网络**: 流量统计、连接数

### 历史记录
- 保留 30 天监控数据
- 支持图表查看趋势
- 异常告警

### 进程管理
- 查看运行进程
- 按 CPU/内存排序
- 终止进程

### 系统日志
- Nginx 访问日志
- 错误日志
- 系统日志
- 面板操作日志

---

## Docker 管理

管理 Docker 容器和镜像。

### 功能
- **容器管理**: 创建、启动、停止、删除容器
- **镜像管理**: 拉取、删除镜像
- **网络管理**: 创建和管理 Docker 网络
- **日志查看**: 实时查看容器日志

### 一键部署
预置常用应用模板：
- WordPress
- MySQL
- Redis
- Nginx
- 等等...

---

## 定时任务

管理 Cron 定时任务。

### 功能
- **创建任务**: 设置执行时间和命令
- **任务日志**: 查看执行历史和输出
- **启用/禁用**: 临时停用任务
- **常用模板**: 备份、清理等常用任务

### 时间格式
```
分 时 日 月 周
*  *  *  *  *
```

示例：
- `0 2 * * *` - 每天凌晨 2 点
- `*/5 * * * *` - 每 5 分钟
- `0 0 * * 0` - 每周日零点

---

## FTP 管理

管理 FTP 用户和权限。

### 功能
- **创建用户**: 设置用户名、密码、目录
- **权限控制**: 读写权限、目录限制
- **连接信息**: 显示 FTP 连接地址和端口

### FTP 服务
支持 Pure-FTPd 和 vsftpd：
- 在软件中心安装
- 自动配置

---

## 用户管理

管理面板用户。

### 用户角色
| 角色 | 权限 |
|------|------|
| 管理员 | 全部权限 |
| 代理商 | 管理自己的网站和用户 |
| 普通用户 | 仅管理自己的网站 |

### 配额管理
- 网站数量限制
- 数据库数量限制
- 存储空间限制
- 流量限制

---

## 系统设置

面板全局设置。

### 基本设置
- 面板名称
- 面板端口
- 语言设置

### 安全设置
- 修改密码
- 安全入口
- 登录超时
- API 密钥

### 备份设置
- 自动备份
- 备份保留天数
- 备份存储位置

### 通知设置
- 邮件通知
- 告警阈值

---

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl+S` | 保存 |
| `Ctrl+Z` | 撤销 |
| `Escape` | 关闭弹窗 |

---

## 常见问题

### Q: 忘记面板密码怎么办？
A: 通过 SSH 登录服务器，运行：
```bash
cd /opt/openpanel
node scripts/reset-password.js
```

### Q: 面板无法访问？
A: 检查：
1. 防火墙是否放行 8888 端口
2. OpenPanel 服务是否运行：`systemctl status openpanel`
3. 查看日志：`journalctl -u openpanel -f`

### Q: SSL 证书申请失败？
A: 确保：
1. 域名已正确解析到服务器 IP
2. 80 端口可被外部访问
3. 域名未被 CA 封禁

---

*更多问题请查看 [FAQ](faq.md) 或提交 [Issue](https://github.com/opentocoder/openpanel/issues)*
